import{a as o,c,d as t,F as _,t as m,n as z,u as A,r as x,i as f,o as M,j as R,e as h,g as b,k as g,b as y,w as D,T as F,f as V}from"./index-2IFiaPLM.js";const E={__name:"AddToScheduleButton",emits:["click"],setup(i,{emit:d}){const n=d,e=()=>{n("click")};return(r,s)=>(o(),c(_,null,[t("button",{class:"hidden md:block bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 ml-4 rounded text-nowrap",onClick:s[0]||(s[0]=u=>e())}," Add to Schedule + "),t("button",{class:"block md:hidden bg-blue-500 hover:bg-blue-700 text-white font-bold text-xl h-20 w-24 py-2 ml-4 rounded text-nowrap text-center",onClick:s[1]||(s[1]=u=>e())}," Add + ")],64))}},N={__name:"RemoveFromScheduleButton",emits:["click"],setup(i,{emit:d}){const n=d,e=()=>{n("click")};return(r,s)=>(o(),c(_,null,[t("button",{class:"hidden md:block bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 ml-4 rounded text-nowrap",onClick:s[0]||(s[0]=u=>e())}," Remove from schedule "),t("button",{class:"block md:hidden bg-red-500 hover:bg-red-700 text-white font-bold text-xl h-20 w-24 py-2 ml-4 rounded text-nowrap text-center",onClick:s[1]||(s[1]=u=>e())}," Remove ")],64))}},L={class:"flex grow font-bold"},U={__name:"Toast",props:{message:String,type:String},setup(i){return(d,n)=>(o(),c("div",{class:z(["fade-transition fixed bottom-4 right-4 z-50 flex items-center p-4 bg-opacity-90 rounded-lg",[i.type==="success"?"bg-green-500 text-white":"bg-neutral-700 text-white"]])},[t("div",L,m(i.message),1)],2))}},I={class:"flex flex-col items-center gap-2 w-100 mt-4 sm:mt-0"},O={class:"flex flex-row justify-between w-5/6"},P={class:"text-3xl font-bold"},q={class:"flex flex-row items-start"},G={class:"flex flex-col w-5/6"},H={class:"text-md text-zinc-300 text-nowrap"},J={class:"text-md text-zinc-300 text-nowrap"},K={class:"flex flex-row gap-2 flex-wrap mt-4 sm:mt-2 mb-4"},Q={class:"text-md text-wrap pt-2 mb-6"},W={class:"text-md text-wrap pt-2"},X={__name:"SeminarDetail",setup(i){const n=A().params.id,e=x({}),r=f("globalUserData"),s=x(!1),u=x(""),v=x(""),k=f("fieldColorMap"),C=f("seminarTypeColorMap"),$=a=>k[a]||"gray-500",T=a=>C[a]||"gray-500";M(async()=>{const l=await(await fetch(`/api/seminars/${n}`,{headers:{Authorization:`Bearer ${r.jwt}`}})).json();e.value=l,e.value.presenters=e.value.presenters.split(`
`)});const S=R(()=>r.user.schedule.seminars.includes(n)),j=async()=>{const l=await(await fetch(`/api/schedule/${n}`,{method:"POST",headers:{Authorization:`Bearer ${r.jwt}`}})).json();r.user=l,w("Added to schedule","success")},B=async()=>{const l=await(await fetch(`/api/schedule/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${r.jwt}`}})).json();r.user=l,w("Removed from schedule")},w=(a,l)=>{u.value=a,v.value=l,s.value=!0,setTimeout(()=>{s.value=!1},5e3)};return(a,l)=>(o(),c(_,null,[t("div",I,[t("div",O,[t("h1",P,m(e.value.title),1),t("div",q,[S.value?(o(),h(N,{key:1,onClick:B})):(o(),h(E,{key:0,onClick:j}))])]),t("div",G,[t("p",H,"Time: "+m(e.value.time),1),t("p",J,"Room: "+m(e.value.room),1),t("div",K,[b(g,{item:e.value.type,desiredColor:T(e.value.type)},null,8,["item","desiredColor"]),(o(!0),c(_,null,y(e.value.fields,p=>(o(),h(g,{key:p,item:p,desiredColor:$(p)},null,8,["item","desiredColor"]))),128))]),t("p",Q,m(e.value.description),1),(o(!0),c(_,null,y(e.value.presenters,p=>(o(),c("p",W,m(p),1))),256))])]),b(F,{name:"fade"},{default:D(()=>[s.value?(o(),h(U,{key:0,message:u.value,type:v.value},null,8,["message","type"])):V("",!0)]),_:1})],64))}},Z={__name:"SeminarView",setup(i){return(d,n)=>(o(),h(X))}};export{Z as default};
